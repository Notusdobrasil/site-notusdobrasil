<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./styles/style.css">
    <title>Pesquisar</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 20px;
        background-color: rgba(19, 69, 150, 0.7);
        color: white;
      }
      .search-container {
        margin-bottom: 20px;
        display: flex;
        padding: 20px;
        justify-content: center;
        align-items: center;
        flex-direction: column;
      }
      input[type="text"] {
        width: 80%;
        padding: 10px;
        font-size: 16px;
      }
      button {
        padding: 10px 15px;
        font-size: 16px;
        cursor: pointer;
      }
      .results {
        margin-top: 20px;
        color: black;
      }
      .result {
        margin-bottom: 10px;
        padding: 10px;
        background-color: #fff;
        border: 1px solid #ddd;
        border-radius: 4px;
      }
    </style>
  </head>
  <body>
    <div class="search-container">
      <h1>Pesquisar</h1>
      <input
        type="text"
        id="searchInput"
        placeholder="Digite uma palavra-chave..."
      />
      <button onclick="performSearch()">Pesquisar</button>
      <a href="">
        <i class="fa-solid fa-magnifying-glass"></i>
      </a>
    </div>
    <div class="results" id="resultsContainer"></div>

    <script>
      // Simulação de conteúdo das páginas
      const pages = [
        {
          title: "Página 1",
          content:
            "Bem-vindo à página 1. Este é um exemplo de texto para pesquisa.",
          url: "pagina1.html",
        },
        {
          title: "Página 2",
          content:
            "Esta é a página 2. Contém informações adicionais para teste.",
          url: "pagina2.html",
        },
        {
          title: "Página 3",
          content:
            "Aqui está a página 3. Este texto serve para verificar a busca.",
          url: "pagina3.html",
        },
      ];

      function performSearch() {
        const query = document
          .getElementById("searchInput")
          .value.toLowerCase();
        const resultsContainer = document.getElementById("resultsContainer");

        // Limpa resultados anteriores
        resultsContainer.innerHTML = "";

        if (!query) {
          resultsContainer.innerHTML =
            "<p>Por favor, insira uma palavra-chave para pesquisar.</p>";
          return;
        }

        // Filtra resultados
        const results = pages.filter((page) =>
          page.content.toLowerCase().includes(query)
        );

        if (results.length === 0) {
          resultsContainer.innerHTML = "<p>Nenhum resultado encontrado.</p>";
          return;
        }

        // Exibe resultados
        results.forEach((result) => {
          const resultElement = document.createElement("div");
          resultElement.className = "result";
          resultElement.innerHTML = `
                    <h3>${result.title}</h3>
                    <p>${highlightQuery(result.content, query)}</p>
                    <a href="${result.url}" target="_blank">Visitar página</a>
                `;
          resultsContainer.appendChild(resultElement);
        });
      }

      function highlightQuery(text, query) {
        const regex = new RegExp(`(${query})`, "gi");
        return text.replace(regex, "<mark>$1</mark>");
      }
    </script>
    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js"
      integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"
      integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
